# 正確性レビューチェックリスト

## スコープ

機能的な正しさを検証。データ整合性、エラーハンドリング、並行処理、リソース管理、クエリ効率を含む。「今、正しく動くか」の観点。

---

## Critical

### データ整合性
- [ ] 適切な制約（外部キー、NOT NULL、ユニーク）
- [ ] トランザクション管理（複数更新はアトミック）
- [ ] マイグレーションの可逆性（rollback可能）

### 重要ロジック
- [ ] 冪等性の考慮（必要な場合）
- [ ] エラーハンドリングの網羅
- [ ] 境界値・エッジケースの処理
- [ ] null安全性（null参照の適切な処理）

### 並行処理
- [ ] 競合状態（race condition）の考慮
- [ ] デッドロックの回避
- [ ] スレッドセーフな実装（共有状態へのアクセス）

## High

### エラーハンドリング
- [ ] 例外の適切な捕捉と処理
- [ ] エラーメッセージが有用
- [ ] リトライロジック（外部連携）
- [ ] タイムアウト設定（外部連携）

### リソース管理
- [ ] リソースリーク防止（ファイルハンドル、DB接続）
- [ ] メモリリーク防止（参照の適切な解放）

### クエリ効率
- [ ] N+1クエリの回避
- [ ] 不要なデータ取得の回避（SELECT *禁止）
- [ ] 適切なインデックス
- [ ] ページネーション（大量データ）
- [ ] 複雑なクエリの実行計画確認
