# 設計レビューチェックリスト

## スコープ

構造設計の品質を検証。レイヤー分離、結合度、設計原則、可読性、モデリングを含む。「将来、変更しやすいか」の観点。

用語定義は `references/design-glossary.md` を参照。

---

## High

### アーキテクチャ
- [ ] レイヤー分離の遵守
- [ ] 依存の方向が正しい（上位→下位のみ）
- [ ] 循環依存がない

### 結合度・コナーセンス
- [ ] 強い結合（内容結合・共通結合）がないか
- [ ] 動的コナーセンス（実行順序・タイミング・値・同一性）が最小限か
- [ ] 境界を越える結合は弱い形式（データ結合・名前のコナーセンス）か

### 契約による設計と信頼境界線
- [ ] 信頼境界線が明確に定義されている
- [ ] 境界上でのみバリデーション・サニタイズを実施
- [ ] 防御的コードが境界に集中し、内部ロジックは簡潔か

### API設計
- [ ] RESTful原則に従っているか（リソース指向、適切なHTTPメソッド）
- [ ] APIバージョニングの考慮
- [ ] レスポンス形式の一貫性

## Medium

### 構造設計（KISS/DRY/SLAP/SRP）
- [ ] 最もシンプルな解決策になっている
- [ ] 同じ責務を持つコードが一箇所にまとまっている
- [ ] 1関数内が同じ抽象レベルで記述されている
- [ ] 1クラス/モジュールが1つの責任のみ持つ

### 可読性
- [ ] メソッド長が適切（目安: 20行以下）
- [ ] クラス長が適切（目安: 300行以下）
- [ ] ネストが深すぎない（目安: 3レベル以下）
- [ ] 変数名・関数名が明確
- [ ] マジックナンバーの定数化

## Low

### モデリング提案（採用は実装者判断）
- [ ] リソースとイベントが混在していないか
- [ ] エンティティとバリューオブジェクトが適切に分離されているか
- [ ] 関連するデータとロジックが同じ場所にまとまっているか

### 保守性
- [ ] YAGNI原則（必要最小限）
- [ ] 一貫した命名規則
- [ ] 適切なファイル配置
- [ ] TODO/FIXMEにチケット番号あり
