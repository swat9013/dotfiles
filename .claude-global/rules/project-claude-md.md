---
paths: **/CLAUDE.md, !.claude-global/CLAUDE.md
---

# プロジェクト CLAUDE.md ガイド

## 制約

| 項目 | 値 |
|------|-----|
| 推奨サイズ | 150行以下 |
| 配置場所 | プロジェクトルート |
| 形式 | Markdown（frontmatter不要） |

## CLAUDE.md vs rules/

| 判断基準 | CLAUDE.md | rules/ |
|---------|-----------|--------|
| 適用範囲 | プロジェクト全体 | パス固有 |
| 適用タイミング | 常時 | パスマッチ時 |
| 例 | 「KISS原則」 | 「API層でログ必須」 |

## 推奨構造

```markdown
# CLAUDE.md

## リポジトリの概要
（1-2文）

## コマンド
```bash
npm run dev
npm test
```

## アーキテクチャ
ディレクトリ構造と役割

## 命名規則
プロジェクト固有ルール

## 重要な制約
守るべき原則
```

## 含めるべき内容

- プロジェクト構造（ディレクトリの役割）
- 重要なコマンド（ビルド、テスト）
- 固有の命名規則
- アーキテクチャ上の制約
- 開発ワークフロー

## 避けるべき内容

- 一般的なプログラミング原則のみ
- README.mdとの重複
- 詳細すぎる実装ガイド → rules/ or docs/
- 長いコード例 → 別ファイル参照

## `@` import構文

```markdown
@README.md              # 同階層ファイル参照
@docs/architecture.md   # パス指定
```

- 再帰インポート最大5ホップ
- 大きなファイルを丸ごとインポートするより、要約をCLAUDE.mdに書く方が効率的

## CLAUDE.local.md

- 個人用プロジェクト設定（自動で `.gitignore` に追加される）
- CLAUDE.mdの後に読み込まれ上書き可能

## アンチパターン

| パターン | 対策 |
|---------|------|
| 150行超 | 圧縮 or 分離 |
| 一般原則のみ | 固有情報を追加 |
| README重複 | 補完関係に |
| 大ファイルを@import | 要約をCLAUDE.mdに書く |
