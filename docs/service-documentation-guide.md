# 社内ITサービス利用者向けドキュメント構造ガイド

社内ITサービス（データ基盤、API、ツール等）の利用者向けドキュメント（wiki形式）を設計・構築するためのベストプラクティス。

## Diátaxisフレームワーク

技術ドキュメントの業界標準フレームワーク。4つのドキュメントタイプを定義し、ユーザーの異なるニーズに対応する。

### 4つのドキュメントタイプ

| タイプ | 目的 | 読者の状態 | 形式 |
|--------|------|-----------|------|
| **Tutorials** | 学習させる | 初心者、何ができるか知りたい | ステップバイステップの実習 |
| **How-to guides** | 達成を助ける | 特定の目標がある | 手順書、レシピ |
| **Reference** | 情報を提供する | 詳細を調べたい | 仕様書、API一覧 |
| **Explanation** | 理解を深める | 背景を知りたい | 概念説明、設計思想 |

### 各タイプの特徴

#### Tutorials（チュートリアル）

**目的**: 初心者に成功体験を提供し、サービスの価値を実感させる

**特徴**:
- 最小限の前提知識で完了できる
- 具体的な成果物がある（動くコード、完成したダッシュボード等）
- 「なぜ」より「どうやるか」に集中
- 失敗しにくい安全なパスを案内

**例**: 「5分で始める○○」「最初のデータパイプラインを作る」

#### How-to guides（ハウツーガイド）

**目的**: 特定のタスクを達成する手順を提供

**特徴**:
- 問題/目標が明確
- 前提条件を明示
- 手順が番号付きで明確
- 複数の方法がある場合は推奨を示す

**例**: 「データを日次でスケジュール実行する方法」「権限を設定する方法」

#### Reference（リファレンス）

**目的**: 正確で網羅的な技術情報を提供

**特徴**:
- 網羅性と正確性が最優先
- 一貫したフォーマット
- 検索しやすい構造
- コードとの同期が必須

**例**: API仕様、設定パラメータ一覧、エラーコード一覧

#### Explanation（説明・概念）

**目的**: 「なぜそうなっているか」を理解させる

**特徴**:
- 背景、歴史、設計判断を説明
- 他の概念との関係性を示す
- 図解が効果的
- 読み物として読める

**例**: アーキテクチャ概要、セキュリティモデル、データモデルの設計思想

## 推奨ディレクトリ構造

```
docs/
├── index.md                      # ランディングページ
│
├── getting-started/              # Tutorials
│   ├── overview.md               # サービス概要（何ができるか）
│   ├── quickstart.md             # クイックスタート（最短で動かす）
│   └── first-project.md          # 最初のプロジェクト
│
├── guides/                       # How-to guides
│   ├── common-tasks/             # よく使う操作
│   │   ├── create-dataset.md
│   │   └── schedule-job.md
│   ├── advanced/                 # 応用操作
│   │   ├── optimization.md
│   │   └── integration.md
│   └── troubleshooting.md        # トラブルシューティング
│
├── reference/                    # Reference
│   ├── api/                      # API仕様
│   │   ├── overview.md
│   │   └── endpoints.md
│   ├── configuration.md          # 設定項目一覧
│   ├── cli.md                    # CLIコマンド一覧
│   └── glossary.md               # 用語集
│
├── concepts/                     # Explanation
│   ├── architecture.md           # アーキテクチャ
│   ├── data-model.md             # データモデル
│   └── security.md               # セキュリティモデル
│
└── support/                      # 運用情報
    ├── faq.md                    # よくある質問
    ├── changelog.md              # 変更履歴
    ├── roadmap.md                # ロードマップ
    └── contact.md                # 問い合わせ先
```

## ナビゲーション設計

### 必須要素

| 要素 | 目的 | 実装 |
|------|------|------|
| **サイドバー** | 階層的なページ一覧 | 2-3階層まで展開 |
| **パンくずリスト** | 現在位置の把握 | `Home > Guides > Advanced` |
| **ページ内目次** | 長いページのジャンプ | 右サイドまたは上部 |
| **検索** | キーワードで発見 | 全文検索必須 |

### ランディングページの構成

1. **サービスの一文説明** - 何をするサービスか
2. **クイックスタートへのリンク** - 最も目立つ位置に
3. **主要セクションへのカード** - 4つのタイプへの入口
4. **最新情報** - 新機能、障害情報等

### ユーザージャーニー別の導線

```
初めての利用者:
  ランディング → Overview → Quickstart → First Project

特定タスクを達成したい:
  検索 or サイドバー → How-to Guide → （必要なら）Reference

仕様を確認したい:
  検索 or サイドバー → Reference → 該当項目

背景を理解したい:
  サイドバー → Concepts → 該当トピック
```

## 各ドキュメントの書き方

### Tutorialの書き方

```markdown
# [チュートリアルタイトル]

このチュートリアルでは、[達成すること]を学びます。
所要時間: 約○分

## 前提条件
- [必要な環境/権限]

## ステップ1: [アクション]
[説明]
[コード/操作]

## ステップ2: ...

## 次のステップ
- [関連するチュートリアル]
- [関連するHow-toガイド]
```

### How-to guideの書き方

```markdown
# [目標]する方法

## 概要
[何を達成するか、1-2文]

## 前提条件
- [必要な環境/権限/前提知識]

## 手順

### 1. [最初のステップ]
[説明と操作]

### 2. [次のステップ]
...

## 確認方法
[成功したかどうかの確認方法]

## トラブルシューティング
- [よくある問題と解決策]

## 関連リンク
- [関連ガイド]
```

### Referenceの書き方

```markdown
# [API/機能名] リファレンス

## 概要
[1-2文の説明]

## [項目名]

| パラメータ | 型 | 必須 | 説明 | デフォルト |
|-----------|-----|------|------|-----------|
| name | string | Yes | ... | - |
| limit | integer | No | ... | 100 |

## 例
[コード例]

## 関連項目
- [関連するAPI]
```

## コンテンツガバナンス

### 所有者の明確化

各セクションに責任者を設定:

| セクション | 所有チーム | 更新トリガー |
|-----------|-----------|-------------|
| getting-started | DevRel/PM | 新機能リリース |
| guides | 各機能チーム | 機能変更時 |
| reference | 開発チーム | API変更時（自動生成推奨）|
| concepts | アーキテクト | 設計変更時 |
| support | 運用チーム | 随時 |

### 更新サイクル

- **Reference**: コード変更と同期（CI/CD連携推奨）
- **Guides**: 機能リリース時に確認
- **Concepts**: 四半期レビュー
- **FAQ**: 問い合わせ傾向を月次確認

### 品質維持

- 各ページに「最終更新日」を表示
- 古いドキュメントに警告バナーを表示
- 定期的なリンク切れチェック
- ユーザーフィードバックの収集（「このページは役に立ちましたか？」）

## チェックリスト

### 構造設計時

- [ ] 4つのドキュメントタイプ（Tutorial/How-to/Reference/Explanation）を区別している
- [ ] ユーザーゴール指向でセクションを設計している
- [ ] 2-3階層で収まる構造になっている
- [ ] ランディングページがクイックスタートへ明確に誘導している

### 各ページ作成時

- [ ] どのタイプのドキュメントか明確
- [ ] 前提条件を明示している
- [ ] 一貫したフォーマットに従っている
- [ ] 関連ドキュメントへのリンクがある

### 運用時

- [ ] 各セクションの所有者が決まっている
- [ ] 更新日が表示されている
- [ ] フィードバック収集の仕組みがある
- [ ] 定期レビューのスケジュールがある

## 参考資料

- [Diátaxis](https://diataxis.fr/) - ドキュメント構造化フレームワーク
- [GitBook - Documentation Structure Tips](https://docs.gitbook.com/guides/best-practices/documentation-structure-tips)
- [Read the Docs - Documentation Structure](https://docs.readthedocs.com/platform/stable/explanation/documentation-structure.html)
- [Tettra - Wiki Best Practices](https://tettra.com/article/wiki-best-practices-tips/)
- [Slite - How to Design a Wiki](https://slite.com/chapter/wiki-design)
