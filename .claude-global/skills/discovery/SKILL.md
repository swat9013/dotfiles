---
name: discovery
description: 問題分析の壁打ちツール。対話的に問題を分解・分析する独立ツール。「問題を整理したい」「壁打ちしたい」「何が問題かわからない」「根本原因を探りたい」「何から手をつければいいかわからない」「XY問題かもしれない」「考えを整理したい」「行き詰まった」と依頼された時に使用。
disable-model-invocation: false
---

# Discovery (壁打ちツール)

問題分析の対話的な補助ツール。ワークフローには組み込まれない独立スキル。

## 対話の進め方

**対話形式**で進める。各ステップで1つ質問し、ユーザーの回答を待ってから次へ。

### ステップ1: 問題の確認

「具体的にどんな困りごとがありますか?」

### ステップ2: ゴールの確認

「その問題が解決されたら、理想の状態はどんな感じですか?」

### ステップ3: XY問題のチェック

「それを実現することで、最終的に何を達成したいですか?」

- 手段(X)の裏にある本当のゴール(Y)を探る
- Yが見つかったら、X以外の解決策も提案する

```
ユーザー: 「cron でスクリプトを定期実行したい」(X)
→ 「データを常に最新に保ちたい」(Y)
→ cron以外にもイベント駆動、Webhook、DBトリガー等を提案
```

### ステップ4: 根本原因の探索(5 Whys)

「なぜ」を繰り返して根本原因を探る。必ずしも5回でなくてよい。根本原因に到達したと感じたら要約して確認する。

### ステップ5: 問題の分解

根本原因が特定できたら、問題を分解する。

**分解の観点**:
- 技術的 vs 非技術的
- 短期 vs 長期
- 優先度(Must / Should / Could / Won't)

```
大きな問題: 「開発効率が悪い」
→ Must: ビルドが遅い(3分 → 30秒にしたい)
→ Should: テストが不安定(Flaky tests 10件)
→ Could: ドキュメントが古い
→ Won't: 開発環境構築(今回は対象外)
```

### ステップ6: 次のアクションの提案

分析結果に基づき、次のアクションを提案する:

| 状況 | 提案 |
|------|------|
| 要件が不明確 | `/requirements` で要件定義 |
| 技術調査が必要 | `/researcher` で調査 |
| 問題と目的が明確 | `/architect` で設計 |

引き継ぐべき情報: 根本原因、分解した問題リスト、優先順位

### ステップ7: discovery.md の作成(任意)

ユーザーに記録するか確認。Yesなら `templates/discovery.md` を使用してプロジェクトルートに保存。

---

## 対話の原則

- **回答を待つ**: 各質問後、推測で埋めない
- **質問は1つずつ**: 一度に複数の質問をしない
- **深掘りする**: 曖昧な回答には具体例や頻度を聞く
- **判断しない**: 複数の選択肢を提示し、ユーザーが判断
- **過度な分析を避ける**: ユーザーが「十分」と感じたら終了
